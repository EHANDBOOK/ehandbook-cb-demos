# Demo: Directory-based EHB-CB for C-Code with Generated Hierarchies

**Objective:** This demo illustrates the conversion of C-Code into an interactive EHANDBOOK model and shows how to automatically generate additional graphical hierarchies (clustering) using the `generateHierarchies` configuration parameter.

---

## ‚ú® Features Showcased

* Directory-based build for a C-Code project.
* Conversion of C source code into an interactive model.
* Use of a C-Code configuration file to control the build process.
* Automatic generation of graphical hierarchies using the `generateHierarchies` parameter.
* A clear comparison between a build with and without generated hierarchies.

---

## üõ†Ô∏è How to Run

This demo includes two build scripts to showcase the effect of the `generateHierarchies` parameter.

1. **Prerequisites:**
    * EHANDBOOK Container-Build with a suitable license for the C-Code converter.
    * Ensure you have run the `set_tool_paths.bat` script in the repository root.

2. **Build without Hierarchies:**
    * Open a command prompt or terminal and navigate to this directory.
    * Execute the `build_without_hierarchies.bat` script. This script uses the configuration in the `configuration_without_hierarchies/` folder.

3. **Build with Hierarchies:**
    * Execute the `build_with_hierarchies.bat` script. This script uses the configuration in the `configuration_with_hierarchies/` folder, where `generateHierarchies` is enabled.

---

## üî¨ Explore the Output

* After each build, the `Output/` folder will be updated with the generated EHANDBOOK container.
* **Compare the results:** Open the `.ehb` files generated by both scripts. You will notice that the container generated by `build_with_hierarchies.bat` contains additional hierarchy levels in the model view. These "clusters" group related functions and calls, providing a more structured and less cluttered view of the code architecture.

---

## ‚öôÔ∏è Under the Hood

This demo highlights how a single configuration parameter can significantly change the graphical representation of a C-Code model, making it easier to understand complex codebases.

### Directory Structure

* **`Input/`**: Contains the C source code to be converted.
* **`configuration_with_hierarchies/`**: Contains a `CCodeConfig.xml` file with the `"generateHierarchies"` parameter set to `true`. This instructs the C-Code converter to analyze the call tree and create graphical clusters for related functions.
* **`configuration_without_hierarchies/`**: Contains a `CCodeConfig.xml` file where the `"generateHierarchies"` parameter is either missing or set to `false`. This results in a flatter, more direct representation of the call structure.
* **`build_without_hierarchies.bat`**: This script runs the container build using the "without hierarchies" configuration.
* **`build_with_hierarchies.bat`**: This script runs the container build using the "with hierarchies" configuration.
* **`Output/`**: The destination folder for the generated EHANDBOOK container.

### Build Scripts

**`build_without_hierarchies.bat` (Without Hierarchies)**

```batch
%EHB_CB_PATH%\eHandbookCB.exe ^
-i ".\\Input" ^
-o ".\\Output" ^
-n "Demo_EHBCB_DirBased_CCODE_References_Without_Hierarchies" ^
-ccodemeta ".\\configuration_without_hierarchies\\CCodeConfig.xml" ^
-gensvg
```

**`build_with_hierarchies.bat` (With Hierarchies)**

```batch
%EHB_CB_PATH%\eHandbookCB.exe ^
-i ".\\Input" ^
-o ".\\Output" ^
-n "Demo_EHBCB_DirBased_CCODE_References_With_Hierarchies" ^
-ccodemeta ".\\configuration_with_hierarchies\\CCodeConfig.xml" ^
-gensvg
```
