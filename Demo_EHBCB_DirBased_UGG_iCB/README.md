# Demo: Accelerating Builds with the Unified Graphics Generator (UGG)

**Objective:** This demo illustrates how to dramatically speed up the EHANDBOOK Container-Build (EHB-CB) process by pre-generating model graphics and data using the Unified Graphics Generator (UGG) tool.

---

## ‚ú® Features Showcased

* **Two-Step Build Process:** A workflow where models are first processed by UGG and then passed to EHB-CB.
* **Unified Graphics Generator (`graphicGen.exe`):** Use of the UGG tool to create `.ugg` artifacts from various model types (Simulink `.mdl`/`.slx` and ASCET `.axl`).
* **Accelerated Container Build:** Use of the `-ugg` command-line argument in EHB-CB to consume the pre-generated artifacts, skipping the time-consuming model-processing step.
* Integration of mixed-model types in the final container.

---

## üõ†Ô∏è How to Run

This demo is split into two distinct steps. For convenience, the artifacts generated by Step 1 are already included in the repository, so you can run Step 2 directly.

1. **Prerequisites:**
    * EHANDBOOK Container-Build (`eHandbookCB.exe`).
    * (Optional, to run Step 1) EHANDBOOK Unified Graphics Generator (`graphicGen.exe`).
    * Ensure you have run the `set_tool_paths.bat` script in the repository root.

2. **Build Process:**
    * **Step 1 (Optional - Generation):**
        * Execute `step1_build_with_UGG.bat`.
        * This script runs the UGG tool on the raw models in `Input_UGG/`.
        * It generates `.ugg` files and other artifacts in the `Output_UGG/` directory. This shows how the pre-processed files are created.
        > **Note:** After running Step 1, you would have to copy the generated `.ugg` files (e.g., `Actuators.ugg`, `Lcc.ugg`, etc.) from the `Output_UGG/` directory into their corresponding subdirectories within `Input_iCB/`. For this demo, this has already been done.
    * **Step 2 (Build EHB):**
        * Execute `step2_build_with_iCB.bat`.
        * This script runs the main EHB-CB process.
        * It uses the pre-generated `.ugg` files located in `Input_iCB/` to build the final EHANDBOOK container.

---

## üî¨ Explore the Output

* After running `step2_build_with_iCB.bat`, navigate to the `Output_iCB/` folder.
* Open the generated `Demo_UGG_iCB_RootLevel.ehb` file.
* You will find a container with functions originating from different model types, but the build process to create it was significantly faster than processing the raw models directly.

---

## ‚öôÔ∏è Under the Hood

This demo showcases the powerful hand-off between the UGG and EHB-CB tools for efficient build pipelines.

### Directory & Script Breakdown

* **`Input_UGG/`**: Contains the original, raw source models (`.mdl`, `.slx`, `.axl`). This is the input for the UGG tool.
* **`step1_build_with_UGG.bat`**: This script calls `graphicGen.exe` to perform the heavy lifting of model parsing and graphics generation.

    ```batch
    %EHB_UGG_PATH%\graphicGen.exe ^
    -i ".\\Input_ugg" ^
    -o ".\\Output_ugg" ^
    -nomatlab ^
    -zip
    ```

    The output is a set of `.ugg` files (and other data, zipped) in the `Output_UGG/` folder.

* **`Input_iCB/`**: This is the input directory for the final container build. It does **not** contain the raw models. Instead, for each function, it contains the pre-generated `.ugg` file alongside standard documentation files (`.adoc`, `.xlsx`).
  * Example: `Input_iCB/Actuators/` contains `Actuators.ugg`, `Actuators.adoc`, etc.

* **`step2_build_with_iCB.bat`**: This script calls `eHandbookCB.exe` with the crucial `-ugg` flag.

    ```batch
    %EHB_CB_PATH%\eHandbookCB.exe ^
    -i ".\\Input_iCB" ^
    -o ".\\Output_iCB" ^
    ...
    -ugg
    ```

    The `-ugg` flag tells EHB-CB: "Do not look for models to process. Instead, find the pre-generated `.ugg` files in the input directories and use them directly." This allows EHB-CB to skip the model conversion step entirely, resulting in a much faster build.
